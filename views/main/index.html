{%extends 'layout.html'%}

{%block content%}

<nav aria-label="...">
    {% for content in contents %}
    <article class="elem">
        <h1 class="articleTit">{{content.title}}</h1>
        <div class="introParent">
            <div class="intro">
                <span>-作者：</span>
                <span class="introNum">{{content.user.username}}</span>
            </div>
            <div class="intro">
                <span>-时间：</span>
                <span class="introNum">{{content.addTime|date('Y-m-d H:i:s', -60 * 8)}}</span>
            </div>
            <div class="intro">
                <span>-阅读：</span>
                <span class="introNum">{{content.Views}}</span>
            </div>
            <div class="intro">
                <span>-评论：</span>
                <span class="introNum">44</span>
            </div>
        </div>
        <h2 class="articleTitSec">{{content.description}}</h2>
        <button type="button" class="seeMoreBtn btn btn-primary">
            <a href="/view?contentid={{content.id}}">阅读全文</a>
        </button>
    </article>
    {% endfor %}

    <nav aria-label="...">
        <ul class="pager">
            {% if pages > 0 %}

            {% if page <= 1 %}
            <li class="previous disabled"><a href="javascript:;">没有上一页了</a></li>
            {%else%}
            <li class="previous"><a href="/?category={{category}}&page={{page-1}}">上一页</a></li>
            {%endif%}

            <li>{{page}} / {{pages}}</li>

            {% if page == pages %}
            <li class="next"><a href="javascript:;">没有下一页了</a></li>
            {%else%}
            <li class="next"><a href="/?category={{category}}&page={{page+1}}">下一页</a></li>
            {%endif%}

            {%else%}
            <h2>抱歉，没有该分类</h2>
            {%endif%}
        </ul>
    </nav>
</nav>

{%endblock%}